---
title: '[Side Project] 지하철은 언제 이용해야 가장 안전할까?'
excerpt: "지하철 혼잡도 예측 모델 만들기 - Intro"

toc: true
toc_label: "Table of Contents"
toc_sticky: true
categories:
  - Side_Project
tags:
  - Python
  - Machine_Learning
last_modified_at: 2020-09-03
---

> 지하철 혼잡도 예측 모델 만들기

<br>

## 들어가기 전

코로나19는 우리 삶의 많은 부분을 변화시켰습니다.  
이제 마스크는 매일 착용해야 하는 옷과 같은 존재가 되었어요.  
2.5단계로 격상된 사회적 거리두기가 일상처럼 되어버린 오늘을 살아가고 있죠.  
언제쯤 이런 문자를 받아볼 수 있을까요??  

![Image_1]({{ site.url }}{{ site.baseurl }}/assets/images/2020-09-03-subway_congestion/end_of_covid19.jpg)

<br>

안전하게 이동하는 것은 이제 모두의 관심사이자 공감대입니다.
나의 안전도 중요하지만, 타인의 안전도 배려해야 하죠.  
그래서 우리는 출퇴근 길에도, 회사에서도, 등하교 시간에도, 학원에서도, 거리에서도,  
물론 대중교통을 이용하면서도 우리는 마스크를 사용합니다.  

하지만 그럼에도 출퇴근 시간에 옆 사람과 간격이 10cm에 불과할 때,  
**'이렇게 다니는 게 안전할까?'** 하는 의구심이 들기도 합니다.  

5살 아들과 3살 딸을 자녀를 둔 초보아빠인 저는  
적어도 어린 자녀와 함께 대중교통을 이용해야 할 때,  
**'가장 덜 붐비는 시간대는 언제인지 알 수 있다면 좋겠다.'**는 생각을 했습니다.  

저와 같은 생각을 하신 분들께 이번 사이드 프로젝트가 도움이 되시길 바랍니다.

<br>

## Introduction

- **문제제기:** 내 아내와 자녀들이 코로나로부터 위협을 받고 있다. **해결하자!**
- **해결방안:**
  1. 지하철 이용 시 **최적의 이동 시간대**는 언제인지 알아보자.
  2. **각 역별**로 가장 덜 붐비는 **시간대**는 언제인지 알아보자.
  3. 체류시간 포함 **총 이동시간을 고려**하여 언제 나가서 돌아와야 할지 알아보자.

저희 가족이 가장 많이 이용하는 대중교통은 지하철 입니다. (아직 온 가족이 뚜벅이..)  
일단 이동 반경이 크지 않아서 근처 역들을 위주로 볼 예정입니다.

그 후 양가 부모님 댁으로 이동할 때 동선도 고려해볼 예정입니다.

자 그럼 안전한 지하철 이용을 위해 시작해볼까요?

<br>

## 1. 데이터 수집하기
### 1. 공공데이터 적극 활용하기

공공데이터포털에는 다양한 데이터들이 모여 있습니다.  
서울시, 경기도 등 지방자치단체에서 제공하는 포털과 각 정부부처가 제공하는 데이터 포털,  
그리고 중앙정부에서 제공하는 포털 등이 존재합니다.  
아래 링크를 통해 각 포털에 접근할 수 있습니다.  

- [공공데이터포털](www.data.go.kr)
- [서울열린데이터광장](data.seoul.go.kr)
- [기상자료개방포털](data.kma.go.kr)

<br>

### 2. 웹 크롤링을 통해 필요한 데이터 확보하기

공공데이터포털에 정리가 되어있지 않은 데이터는 크롤링을 통해 확보할 수 있습니다.  
본 프로젝트에는 **위키백과, 네이버지도, KOBIS 영화관 입장권 통합 전산망**에서 크롤링을 진행했습니다.

<br>

## 2. 데이터 전처리하기

- 각 포털별로 데이터의 의미가 다릅니다.  
예를 들어 동일한 동이름이지만 한쪽은 행정동이고 다른 쪽은 법정동입니다.
서로 의미하는 바와 경계가 다릅니다. (물론 같은 경우도 있습니다)  

  | |데이터셋a|데이터셋b|
|---|---|---|
|서초동|행정동|법정동|  

<br>

- 같은 포털이라도 누가 언제 올렸는가에 따라 상이한 데이터가 존재합니다.
예를 들어 같은 지하철 역이름이지만 데이터셋별로 미묘한 차이가 존재합니다.

  |지하철 역 이름|데이터셋1|데이터셋2|
|---|---|---|
|청량리역|철량리(서울시립대입구)|청량리역|

<br>

- 사람이 작업하여 데이터를 업로드 하기 때문에 오타가 존재하기도 합니다.
예를 들어 날짜 데이터에 포함되어 있는 뜬금없는 기호문자를 발견하기도 합니다.

  예) 20181130**"**

<br>

- 날씨 데이터에는 결측치가 존재합니다. 생각보다 많이 존재합니다.
이 중에 실측이 안된 결측치가 있는가 하면 상황에 따라 실측을 안한 결측치가 있습니다.
서로 성격이 다르기 때문에 다르게 처리해줘야 합니다.
